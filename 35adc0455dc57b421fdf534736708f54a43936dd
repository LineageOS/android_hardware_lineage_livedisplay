{
  "comments": [
    {
      "key": {
        "uuid": "a447a55c_ac076059",
        "filename": "sdm/service.cpp",
        "patchSetId": 19
      },
      "lineNbr": 142,
      "author": {
        "id": 1063
      },
      "writtenOn": "2019-01-25T13:46:25Z",
      "side": 1,
      "message": "Cleaner than the above would be this:\n\nstd::vector\u003csp\u003cIBase\u003e \u003e services;\nsp\u003cAdaptiveBacklight\u003e ab \u003d new AdaptiveBacklight();\nif (adaptiveBacklight-\u003eisSupported()) {\n    services.push_back(ab);\n}\n\n[... other services ... ]\nif (services.empty()) {\n    goto shutdown;\n}\n\nfor (auto\u0026 service : services) {\n    if (service-\u003eregisterAsService() !\u003d OK) {\n        [... log error ... ]\n        goto shutdown;\n    }\n}",
      "revId": "35adc0455dc57b421fdf534736708f54a43936dd",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd565c00_4323dc5b",
        "filename": "sdm/service.cpp",
        "patchSetId": 19
      },
      "lineNbr": 146,
      "author": {
        "id": 10258
      },
      "writtenOn": "2019-01-24T01:07:48Z",
      "side": 1,
      "message": "This doesn\u0027t make sense, sort of a hack. It\u0027s better to start all interfaces here and perform isSupported checks in sdk, which is what we do in 1.0 hal",
      "range": {
        "startLine": 144,
        "startChar": 0,
        "endLine": 146,
        "endChar": 5
      },
      "revId": "35adc0455dc57b421fdf534736708f54a43936dd",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "425fa7ec_f9880fa2",
        "filename": "sdm/service.cpp",
        "patchSetId": 19
      },
      "lineNbr": 146,
      "author": {
        "id": 1063
      },
      "writtenOn": "2019-01-25T13:47:38Z",
      "side": 1,
      "message": "I think if your device doesn\u0027t support any of the interfaces, you should rather not build the service.",
      "parentUuid": "fd565c00_4323dc5b",
      "range": {
        "startLine": 144,
        "startChar": 0,
        "endLine": 146,
        "endChar": 5
      },
      "revId": "35adc0455dc57b421fdf534736708f54a43936dd",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    }
  ]
}